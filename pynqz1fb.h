/**
 * @file pynqz1fb.h
 * @author Kenta IDA <fuga@fugafuga.org>
 * @description
 * I/O port definition for PYNQ-Z1 frame-buffer driver.
 */
/*
 * This program is free software; you can redistribute it and/or modify it
 * under the terms and conditions of the GNU General Public License,
 * version 2, as published by the Free Software Foundation.
 *
 * This program is distributed in the hope it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 */

// Video Timing Controller
#define VTC_REG_CTL		0x000
#define VTC_REG_ISR		0x004
#define VTC_REG_ERROR	0x008
#define VTC_REG_IER		0x00C
#define VTC_REG_VER		0x010

#define VTC_REG_GASIZE	0x060
#define VTC_REG_GTSTAT	0x064
#define VTC_REG_GFENC	0x068
#define VTC_REG_GPOL	0x06C
#define VTC_REG_GHSIZE	0x070
#define VTC_REG_GVSIZE	0x074
#define VTC_REG_GHSYNC	0x078

#define VTC_REG_GVBHOFF	0x07C
#define VTC_REG_GVSYNC	0x080
#define VTC_REG_GVSHOFF	0x084

#define VTC_REG_GVBHOFF_F1	0x088
#define VTC_REG_GVSYNC_F1	0x08C
#define VTC_REG_GVSHOFF_F1	0x090

#define VTC_CTL_RESET_MASK	0x80000000
#define VTC_CTL_SRST_MASK	0x40000000
#define VTC_CTL_FIPSS_MASK	0x04000000
#define VTC_CTL_ACPSS_MASK	0x02000000
#define VTC_CTL_AVPSS_MASK	0x01000000
#define VTC_CTL_HSPSS_MASK	0x00800000
#define VTC_CTL_VSPSS_MASK	0x00400000
#define VTC_CTL_HBPSS_MASK	0x00200000
#define VTC_CTL_VBPSS_MASK	0x00100000

#define VTC_CTL_VCSS_MASK	0x00040000
#define VTC_CTL_VASS_MASK	0x00020000
#define VTC_CTL_VBSS_MASK	0x00010000
#define VTC_CTL_VSSS_MASK	0x00008000
#define VTC_CTL_VFSS_MASK	0x00004000
#define VTC_CTL_VTSS_MASK	0x00002000
#define VTC_CTL_HBSS_MASK	0x00000800
#define VTC_CTL_HSSS_MASK	0x00000400
#define VTC_CTL_HFSS_MASK	0x00000200
#define VTC_CTL_HTSS_MASK	0x00000100

#define VTC_CTL_ALLSS_MASK	0x03F5EF00 
#define VTC_CTL_SE_MASK	0x00000020
#define VTC_CTL_DE_MASK	0x00000008
#define VTC_CTL_GE_MASK	0x00000004
#define VTC_CTL_RU_MASK	0x00000002
#define VTC_CTL_SW_MASK	0x00000001

#define VTC_ASIZE_VERT_MASK	0x1FFF0000
#define VTC_ASIZE_VERT_SHIFT	16	    
#define VTC_ASIZE_HORI_MASK	0x00001FFF
#define VTC_STAT_AVIDEO_MASK	0x00000004
#define VTC_STAT_VBLANK_MASK	0x00000002
#define VTC_STAT_LOCKED_MASK	0x00000001
#define VTC_ENC_GACPS_MASK	0x00000200
#define VTC_ENC_CPARITY_MASK	0x00000100
#define VTC_ENC_CPARITY_SHIFT	8
#define VTC_ENC_FPARITY_MASK	0x00000080
#define VTC_ENC_PROG_MASK	0x00000040
#define VTC_ENC_PROG_SHIFT	6
#define VTC_ENC_GACLS_MASK	0x00000001
#define VTC_POL_FIP_MASK	0x00000040
#define VTC_POL_ACP_MASK	0x00000020
#define VTC_POL_AVP_MASK	0x00000010
#define VTC_POL_HSP_MASK	0x00000008
#define VTC_POL_VSP_MASK	0x00000004
#define VTC_POL_HBP_MASK	0x00000002
#define VTC_POL_VBP_MASK	0x00000001
#define VTC_POL_ALLP_MASK	0x0000007F

#define VTC_VSIZE_F1_MASK	0x1FFF0000
#define VTC_VSIZE_F1_SHIFT	16
#define VTC_VSIZE_F0_MASK	0x00001FFF
#define VTC_SB_END_MASK	0x1FFF0000
#define VTC_SB_END_SHIFT	16
#define VTC_SB_START_MASK	0x00001FFF

// VDMA 
#define VDMA_REG_TX      0x00000000
#define VDMA_REG_RX      0x00000030
#define VDMA_REG_PARKPTR 0x00000028
#define VDMA_REG_VERSION 0x0000002C

#define VDMA_REG_CR    	0x00000000	
#define VDMA_REG_SR    	0x00000004	
#define VDMA_REG_MM2S_ADDR 0x00000050

#define VDMA_REG_VSIZE         0x00000000 
#define VDMA_REG_HSIZE         0x00000004 
#define VDMA_REG_STRD_FRMDLY   0x00000008 
#define VDMA_REG_START_ADDR    0x0000000C 
#define VDMA_START_ADDR_LEN       0x00000004 
#define VDMA_REG_START_ADDR_MSB 0x00000010

#define VDMA_CR_RUNSTOP_MASK    0x00000001 
#define VDMA_CR_TAIL_EN_MASK    0x00000002 
#define VDMA_CR_RESET_MASK      0x00000004 

#define VDMA_PARKPTR_READREF_MASK 0x0000001F
#define VDMA_PARKPTR_WRTREF_MASK  0x00001F00
#define VDMA_PARKPTR_READSTR_MASK 0x001F0000
#define VDMA_PARKPTR_WRTSTR_MASK  0x1F000000

#define VDMA_FRMDLY_SHIFT     24
// Digilent Dynclk
#define CLK_BIT_WEDGE 13
#define CLK_BIT_NOCOUNT 12

#define OFST_DISPLAY_CTRL 0x0
#define OFST_DISPLAY_STATUS 0x4
#define OFST_DISPLAY_CLK_L 0x8
#define OFST_DISPLAY_FB_L 0x0C
#define OFST_DISPLAY_FB_H_CLK_H 0x10
#define OFST_DISPLAY_DIV 0x14
#define OFST_DISPLAY_LOCK_L 0x18
#define OFST_DISPLAY_FLTR_LOCK_H 0x1C
